{"ast":null,"code":"import { userService } from '../services/userServices';\nimport router from '@/router';\nconst user = JSON.parse(localStorage.getItem('user'));\nconst state = user ? {\n  status: {\n    loggedIn: true\n  },\n  user\n} : {\n  status: {},\n  user: null\n};\nconst actions = {\n  //dispatch\n  login({\n    dispatch,\n    commit\n  }, {\n    username,\n    password\n  }) {\n    commit('loginRequest', {\n      username\n    });\n    userService.login(username, password).then(user => {\n      commit('loginSuccess', user);\n      router.push({\n        path: '/users'\n      });\n    }, error => {\n      console.log(\"Error Login: \", error);\n      commit('loginFailure', error);\n      dispatch('alert/error', error, {\n        root: true\n      });\n    });\n  },\n\n  logout({\n    commit\n  }) {\n    userService.logout();\n    commit('logout');\n  }\n\n};\nconst mutations = {\n  loginRequest(state, user) {\n    state.status = {\n      loggingIn: true\n    };\n    state.user = user;\n  },\n\n  loginSuccess(state, user) {\n    state.status = {\n      loggedIn: true\n    };\n    state.user = user;\n  },\n\n  loginFailure(state) {\n    state.status = {};\n    state.user = null;\n  },\n\n  logout(state) {\n    state.status = {};\n    state.user = null;\n  }\n\n};\nexport const account = {\n  namespaced: true,\n  state,\n  actions,\n  mutations\n};","map":{"version":3,"names":["userService","router","user","JSON","parse","localStorage","getItem","state","status","loggedIn","actions","login","dispatch","commit","username","password","then","push","path","error","console","log","root","logout","mutations","loginRequest","loggingIn","loginSuccess","loginFailure","account","namespaced"],"sources":["C:/Users/SERDAN-DESARROLLO/Desktop/VueJS/src/store/account.module.js"],"sourcesContent":["import { userService } from '../services/userServices';\r\nimport router from '@/router'\r\n\r\nconst user = JSON.parse(localStorage.getItem('user'));\r\nconst state = user\r\n    ? { status: { loggedIn: true }, user }\r\n    : { status: {}, user: null };\r\n\r\nconst actions = {\r\n    //dispatch\r\n    login({ dispatch, commit }, { username, password }) {\r\n        \r\n        commit('loginRequest', { username });\r\n    \r\n        userService.login(username, password)\r\n            .then(\r\n                user => {\r\n                    commit('loginSuccess', user);\r\n                    router.push({ path:'/users' });\r\n                },\r\n                error => {\r\n                    console.log(\"Error Login: \", error)\r\n                    commit('loginFailure', error);\r\n                    dispatch('alert/error', error, { root: true });\r\n                }\r\n            );\r\n    },\r\n    logout({ commit }) {\r\n        userService.logout();\r\n        commit('logout');\r\n    },\r\n};\r\n\r\nconst mutations = {\r\n    loginRequest(state, user) {\r\n        state.status = { loggingIn: true };\r\n        state.user = user;\r\n    },\r\n    loginSuccess(state, user) {\r\n        state.status = { loggedIn: true };\r\n        state.user = user;\r\n    },\r\n    loginFailure(state) {\r\n        state.status = {};\r\n        state.user = null;\r\n    },\r\n    logout(state) {\r\n        state.status = {};\r\n        state.user = null;\r\n    }\r\n};\r\n\r\nexport const account = {\r\n    namespaced: true,\r\n    state,\r\n    actions,\r\n    mutations\r\n};"],"mappings":"AAAA,SAASA,WAAT,QAA4B,0BAA5B;AACA,OAAOC,MAAP,MAAmB,UAAnB;AAEA,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAb;AACA,MAAMC,KAAK,GAAGL,IAAI,GACZ;EAAEM,MAAM,EAAE;IAAEC,QAAQ,EAAE;EAAZ,CAAV;EAA8BP;AAA9B,CADY,GAEZ;EAAEM,MAAM,EAAE,EAAV;EAAcN,IAAI,EAAE;AAApB,CAFN;AAIA,MAAMQ,OAAO,GAAG;EACZ;EACAC,KAAK,CAAC;IAAEC,QAAF;IAAYC;EAAZ,CAAD,EAAuB;IAAEC,QAAF;IAAYC;EAAZ,CAAvB,EAA+C;IAEhDF,MAAM,CAAC,cAAD,EAAiB;MAAEC;IAAF,CAAjB,CAAN;IAEAd,WAAW,CAACW,KAAZ,CAAkBG,QAAlB,EAA4BC,QAA5B,EACKC,IADL,CAEQd,IAAI,IAAI;MACJW,MAAM,CAAC,cAAD,EAAiBX,IAAjB,CAAN;MACAD,MAAM,CAACgB,IAAP,CAAY;QAAEC,IAAI,EAAC;MAAP,CAAZ;IACH,CALT,EAMQC,KAAK,IAAI;MACLC,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BF,KAA7B;MACAN,MAAM,CAAC,cAAD,EAAiBM,KAAjB,CAAN;MACAP,QAAQ,CAAC,aAAD,EAAgBO,KAAhB,EAAuB;QAAEG,IAAI,EAAE;MAAR,CAAvB,CAAR;IACH,CAVT;EAYH,CAlBW;;EAmBZC,MAAM,CAAC;IAAEV;EAAF,CAAD,EAAa;IACfb,WAAW,CAACuB,MAAZ;IACAV,MAAM,CAAC,QAAD,CAAN;EACH;;AAtBW,CAAhB;AAyBA,MAAMW,SAAS,GAAG;EACdC,YAAY,CAAClB,KAAD,EAAQL,IAAR,EAAc;IACtBK,KAAK,CAACC,MAAN,GAAe;MAAEkB,SAAS,EAAE;IAAb,CAAf;IACAnB,KAAK,CAACL,IAAN,GAAaA,IAAb;EACH,CAJa;;EAKdyB,YAAY,CAACpB,KAAD,EAAQL,IAAR,EAAc;IACtBK,KAAK,CAACC,MAAN,GAAe;MAAEC,QAAQ,EAAE;IAAZ,CAAf;IACAF,KAAK,CAACL,IAAN,GAAaA,IAAb;EACH,CARa;;EASd0B,YAAY,CAACrB,KAAD,EAAQ;IAChBA,KAAK,CAACC,MAAN,GAAe,EAAf;IACAD,KAAK,CAACL,IAAN,GAAa,IAAb;EACH,CAZa;;EAadqB,MAAM,CAAChB,KAAD,EAAQ;IACVA,KAAK,CAACC,MAAN,GAAe,EAAf;IACAD,KAAK,CAACL,IAAN,GAAa,IAAb;EACH;;AAhBa,CAAlB;AAmBA,OAAO,MAAM2B,OAAO,GAAG;EACnBC,UAAU,EAAE,IADO;EAEnBvB,KAFmB;EAGnBG,OAHmB;EAInBc;AAJmB,CAAhB"},"metadata":{},"sourceType":"module"}